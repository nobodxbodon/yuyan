
「：Implements Abel and Pientka, Higher-Order Constraint Based Pattern Unification：」

寻观标准库之书。
寻观豫言编译器之编译数据之抽象绑定树结构之抽象语法树之书。
寻观豫言编译器之编译数据之抽象绑定树结构之抽象语法树方法之书。
观抽象语法之书。
观抽象语法表示之书。
寻观豫言编译器之编译数据之抽象绑定树结构之命名环境术之书。
寻观豫言编译器之编译数据之抽象绑定树结构之抽象语法树相等方法之书。

寻观顶部归一化之书。
寻观元变量管理之书。
寻观豫言编译器之编译数据之操作符之操作符数据结构之书。
寻观豫言编译器之编译数据之编译配置之编译期输出之书。

寻观模式合一工具之书。

进行剪枝元变量参乃化字符串列「：左式元变量的参数：」而
        化表达式列「：右式原变量参数：」而
        化命名环境「：右变量环境：」
        而命名环境「：检查后的式子，可解析传入的原变量：」也。
进行剪枝元变量参者会左参而会右参而会右境而
    若（长度于右参）不等于（长度于右境）则发生事故于『参境必须相等』
    否则（「：命名环境式反着的：」
        从右折叠于（会右式及当前条目而会后境而
            鉴（（表达式合条目）也右式及当前条目）而有
                （右式与（本地条目于名于类））则
                    （若（非于（是子集于「串相等」于（读取式自由硬性变量于右式）于左参））
                    则后境
                    否则（
                            若（（是子集于「串相等」于（读取式自由变量于右式）于左参））
                            则（若（是子集于「串相等」于（读取式自由变量于类）于（命名环境获取所有名称于后境））
                                则（（本地条目于名于类）衔后境）
                                否则（发生事故于『无法进行剪枝：多余变量(FV(A) - Ψ₂)：』附（以『，』合并（「列减」于「字符串相等」于（读取式自由变量于类）于（命名环境获取所有名称于后境）））
                                        附『「：换行：」     在剪枝于右式元变量参数时(M)：』附（表达式表示于右式）
                                        附『「：换行：」     剪枝后境中所有可能名称(Ψ₂)：』附（以『，』合并（命名环境获取所有名称于后境））
                                        附『「：换行：」     右式元变量参数中所有自由变量(FV(A))：』附（以『，』合并（移除重复于「字符串相等」于（读取式自由变量于类）））
                                        附『「：换行：」     右式元变量参数中所有自由变量不是剪枝后境中所有可能名称的子集 FV(A) ⊈ Ψ₂ 』
                                        附『「：换行：」     当前右式类型(A)：』附（表达式表示于类） 
                                        ）
                            ）
                            否则（
                                发生事故于（延迟异常串）
                                ）「：delay subst if flexible arguments to unif variable are not present on the left hand side：」
                    ））
        ）于【】于（「拉链合并」于右参于右境）
    ）也。




「：处理 X[x_1, ... x_n] = M，其中X是元变量：」
进行剪枝和替换乃
    化爻「：是否保留静态单例，默认为否，默认仅在结构签名中保留静态单例：」而
    化整数「：左式元变量编号：」而
    化字符串列「：元变量的参数，（其实并不是，而是允许rigid occurrence的所有变量（考虑存在绑定））：」而
    化命名环境「：左变量的定义环境：」而
    化命名环境「：待检查式的命名环境，目前包括新的绑定变量，新的绑定变量同时会放在左境与右境中：」而
    「：TODO： 我们有右境是因为在模式匹配检查中，模式匹配变量会后于元变量创建，此时我们需要访问模式匹配变量的定义：」
    化表达式「：待检查的式子：」而表达式「：检查后的式子，可解析传入的左变量：」也。
进行剪枝和替换者循进行剪枝和替换以（会保留静态单例而会左号而会左参而会左境而会右境而会右式而
    虑递归者（进行剪枝和替换于保留静态单例于左号于左参于左境于右境）而
    虑剪枝替换绑定式者遇表达式者后定义域而遇表达式者值域而
        （虑绑定名及真值域者解构抽象不重复名称于值域于（左参接（命名环境获取所有名称于左境））而
                  虑绑定名者绑定名及真值域中零而
                  虑后值域者「进行剪枝和替换」于保留静态单例
                                         于左号
                                         于（绑定名衔左参）
                                         于（本地条目于绑定名于后定义域）衔左境
                                         于（本地条目于绑定名于后定义域）衔右境
                                         于（绑定名及真值域中一）而
                   （进行抽象于绑定名于后值域））
        而
    虑剪枝替换式及绑定式者遇表达式者定义域而遇表达式者值域而
        （虑后定义域者递归于定义域而
                   （后定义域）衔（剪枝替换绑定式于后定义域于值域）衔【】）
        而
    尝试运行于（会无而
        鉴右式而
            有（自由变量于「右名」）则（
                    鉴（滤态射二于（会左名而会左条目而
                                若「串相等」于左名于右名
                                则（可有左条目）
                                否则（可无））于左参于左境）而
                    有【】则（
                        鉴（解析单个名称于右境于右名）而
                            有（可有（式节点于（模式匹配静态单例类型节点）于「模式类」衔「模式匹配定义」衔【】））则
                                （递归于「模式匹配定义」）
                            或有「其他」则发生事故于『剪枝失败，右式变量rigidly occurs：』附右名
                        ）
                    或有（（本地条目于「匹配名」于「本类」））衔【】则（自由变量于匹配名）
                    或有其他则（发生事故于『无法进行反替换，左参中右多个可能的值』）
            ）
            或有（式节点于（元变量于「右号」）于「右参」）则
                若（左号等于右号）则发生事故于『错误！合一发生检查（Occurs Check Failure）』
                否则
                    （鉴归一元变量式于右式而
                        有（可有「新式」）则（递归于新式）
                        或有（可无）则
                            （鉴读取元变量于右号而
                                有对象变量数据于（（右原境与右类）与（可无））则
                                （
                                    虑右新境者进行剪枝元变量参于左参于右参于右原境而
                                    （若（长度于右新境）等于（长度于右原境）
                                    则（式节点于（元变量于（右号））于（态射于递归于右参））「：仍然爻：」
                                    否则（
                                        若（是子集于「串相等」于（读取式自由变量于右类）于（命名环境获取所有名称于右新境））
                                        则（
                                            虑新元变量式者新建对象元变量式于右新境于右类而
                                            虑无者解析元变量于右号于新元变量式而「：右新境式右原境的subset，所以没有问题：」
                                            递归于新元变量式
                                        ）
                                        否则（发生事故于『元变量剪枝出现问题！』）
                                    ））
                                ）
                                或有类型变量数据于（（右原境）与（可无））则
                                （「：警告：从上面拷贝的，TODO不要拷贝！：」
                                    虑右新境者进行剪枝元变量参于左参于右参于右原境而
                                    （若（长度于右新境）等于（长度于右原境）
                                    则（式节点于（元变量于（右号））于（态射于递归于右参））「：仍然爻：」
                                    否则（
                                            虑新元变量式者新建类型元变量式于右新境而
                                            虑无者解析元变量于右号于新元变量式而「：右新境式右原境的subset，所以没有问题：」
                                            递归于新元变量式
                                        ）
                                    ）
                                ）
                                或有模式匹配变量数据于（（右类）与（可无））则
                                （
                                    虑解析式者新建对象元变量式于右境于（右类）而
                                    虑无者解析元变量于右号于解析式而
                                    递归于解析式
                                   「： （式节点于（元变量于（右号））于（态射于递归于右参））  ：」
                                ）
                                或有其他则发生事故于『应当没有解析』
                            ）
                    ）
            或有（式节点于（内建节点于（量甲））于【】）则右式
            或有（式节点于（签名类型节点）于【】）则
                    （式节点于（签名类型节点）于【】）
            或有（式节点于（单类型签名节点）于式衔【】）则
                    （式节点于（单类型签名节点）于（递归于式）衔【】） 
            或有（式节点于（签名对象节点）于式衔【】）则
                    （式节点于（签名对象节点）于（递归于式）衔【】） 
            或有（式节点于（派抽象于「派形」）于「定义域」衔「值域」衔【】）则
                    （式节点于（派抽象于派形）于（剪枝替换式及绑定式于定义域于值域））
            或有（式节点于（拉姆达抽象带类型于「拉形」）于「定义域」衔「值域」衔【】）则
                    （式节点于（拉姆达抽象带类型于拉形）于（剪枝替换式及绑定式于定义域于值域））
            或有（式节点于（递归节点）于「定义域」衔「值域」衔【】）则
                    （式节点于（递归节点）于（剪枝替换式及绑定式于定义域于值域））
            或有（式节点于（结构节点于「可能名」）于「定义域」衔「值域」衔【】）则
                    （式节点于（结构节点于可能名）于（剪枝替换式及绑定式于定义域于值域）） 
            或有（式节点于（空结构节点）于【】）则
                    （式节点于（空结构节点）于（【】））
            或有（式节点于（静态单例类型节点）于类衔式衔【】）则
            「：尝试：模式合一时一律移除静态单例类型节点：」
                （若保留静态单例
                    则（式节点于（静态单例类型节点）于（递归于类）衔（递归于式）衔【】）
                    否则（递归于类））
            「： 或有（式节点于（签名节点于「可能名」）于（式节点于（静态单例类型节点）于「定义域类」衔「定义域式」衔【】）衔「值域」衔【】）则
                （
                    虑后定义域类者递归于定义域类而
                    虑后定义域式者递归于定义域式而
                    虑后定义域者（式节点于（静态单例类型节点）于「后定义域类」衔「后定义域式」衔【】）而
                        （式节点于（签名节点于可能名）于后定义域衔（剪枝替换绑定式于后定义域于值域）衔【】）
                ） ：」
            或有（式节点于（签名节点于「可能名」）于「定义域」衔「值域」衔【】）则
                （
                「：仅在签名时考虑静态单例：」
                    虑后定义域者进行剪枝和替换于阳于左号于左参于左境于右境于「定义域」而
                        （式节点于（签名节点于可能名）于后定义域衔（剪枝替换绑定式于后定义域于值域）衔【】）
                ）
            或有（式节点于（正则签名节点于「投影名」）于「定义域」衔 「值域」衔【】）则
                    （式节点于（正则签名节点于「投影名」）于（递归于「定义域」）衔（递归于「值域」）衔【】）
            或有（式节点于（空签名节点）于【】）则
                    （式节点于（空签名节点）于（【】））
            或有（式节点于（函数调用于「函形」）于「函数」衔「参数」衔【】）则
                    （式节点于（函数调用于函形）于（递归于函数）衔（递归于参数）衔（【】））
            或有（式节点于（结构投影带序数于名于「序数」）于「参数」衔【】）则
                    （式节点于（结构投影带序数于名于序数）于（递归于参数）衔（【】））
            或有（式节点于（文件引用节点于「文件名」）于【】）则「：感觉不对：」
                    （式节点于（文件引用节点于文件名）于【】）
            或有（式节点于（对子类型节点）于「对左类」衔「对右类」衔【】）则
                    （式节点于（对子类型节点）于（递归于对左类）衔（递归于对右类）衔【】）
            或有（式节点于（对子类型结尾节点）于【】）则
                    （式节点于（对子类型结尾节点）于【】）
            「： 或有（式节点于（对子构造节点）于「对左」衔「对右」衔【】）则
                    （式节点于（对子构造节点）于（递归于对左）衔（递归于对右）衔【】） ：」
            或有（式节点于（元组构造节点）于「元素们」）则
                    （式节点于（元组构造节点）于（态射于递归于元素们））
            「： 或有（式节点于（对子构造结尾节点）于【】）则
                    （式节点于（对子构造结尾节点）于【】）
            或有（式节点于（对子解构节点）于「对子」衔「序数式」衔【】）则
                    （式节点于（对子解构节点）于（递归于对子）衔（递归于序数式）衔【】） ：」
            或有（式节点于（元组解构节点于「序数」）于「对子」衔【】）则
                    （式节点于（元组解构节点于「序数」）于（递归于对子）衔【】） 
            或有（式节点于（签名实现节点）于「签名」衔「实现」衔【】）则
                （式节点于（签名实现节点）于（递归于「签名」）衔（递归于「实现」）衔【】）
            或有（式节点于（模式匹配）于「分析式」衔「分支们」）则
                （式节点于（模式匹配）于（递归于「分析式」）衔（态射于递归于「分支们」））
            或有（式节点于（模式匹配分支）于「模式」衔「结果」衔【】）则
                （式节点于（模式匹配分支）于（递归于「模式」）衔
                    （
                        虑新变量们者读取模式匹配新变量于模式而
                       「进行剪枝和替换」
                            于保留静态单例
                            于左号
                            于（新变量们接左参）
                            于（（态射于（会变名而本地条目于变名于（式节点于「待定节点」于【】））于新变量们）接左境）
                            于（（态射于（会变名而本地条目于变名于（式节点于「待定节点」于【】））于新变量们）接右境）
                            于结果
                    ）
                    衔【】）
            或有（式节点于（模式匹配新变量于「变名」）于「变类」衔【】）则
                    （式节点于（模式匹配新变量于变名）于（「：不检查模式的自由变量的类型，因为可能含有模式先前的新变量：」变类）衔【】）
            或有（式节点于（顺序执行节点）于「式一」衔「式二」衔【】）则
                （式节点于（顺序执行节点）于（递归于「式一」）衔（递归于「式二」）衔【】）
            或有（式节点于（解析后外部调用节点带类型于「调用名」）于参）则
                （式节点于（解析后外部调用节点带类型于「调用名」）于（态射于递归于参））
            或有（式节点于「内联虑带类型」于「当前类」衔「当前式」衔「下式」衔【】）则
                （虑后当前类者（递归于「当前类」）而
                    式节点于「内联虑带类型」于（后当前类）衔（递归于「当前式」）衔（剪枝替换绑定式于后当前类于下式）衔【】）
            或有（式节点于（唯一构造器节点于数于「构造器名」）于「构造器类」衔【】）则
                    （式节点于（唯一构造器节点于数于「构造器名」）于（递归于构造器类）衔【】）
            或有（式节点于（签名类型类型占位节点）于【】）则
                    （式节点于（签名类型类型占位节点）于【】）
            或有（式节点于（整数节点于数）于【】）则
                    （ （式节点于（整数节点于数）于【】） ）
            或有（式节点于（「小数节点」于数于「整小部」）于【】）则
                    （ （式节点于（「小数节点」于数于「整小部」）于【】） ）
            或有（式节点于（字符串节点于串）于【】）则
                    （ （式节点于（字符串节点于串）于【】） ）
            或有（式节点于（爻分支节点）于「爻式」衔「阳式」衔「阴式」衔【】）则
                （式节点于（爻分支节点）于（递归于爻式）衔（递归于阳式）衔（递归于阴式）衔【】）
            或有「其他」则发生事故于『剪枝替换未有：』附（表达式表示于右式）附（命名环境表示于左境）
        ）
        于（会事故而
                        若（「串相等」于事故于（延迟异常串））「：TODO 使用正常的Exceptions：」
                        则（ 发生事故于事故）
                        否则（发生事故于事故附『「：换行：」===》》》》在试图进行剪枝时：』附（表达式表示于右式）
                                附『「：换行：」左号：』附（整数表示于左号）
                                附『「：换行：」左参：』附（以『，』合并（左参））
                                附『「：换行：」左境：』附（以『，』合并（命名环境获取所有名称于左境））
                                ）
                ））
        也。

「：进行优化的剪枝：」
「：TODO：检查是否可以优化：」
进行剪枝和替换顶层乃化整数「：左式元变量编号：」而
    化字符串列「：元变量的参数，（其实并不是，而是允许rigid occurrence的所有变量（考虑存在绑定））：」而
    化命名环境「：左变量的定义环境：」而
    化命名环境「：右式的环境，主要用于模式匹配检查：」而
    化表达式「：待检查的式子：」而表达式「：检查后的式子，可解析传入的原变量：」也。
进行剪枝和替换顶层者（会左号而会左参而会左境而会右境而会右式而
    若（是子集于「串相等」于左参于（读取式自由变量于右式））且（非于（是子集于「整数相等」于【左号】于（读取自由元变量于右式）））
    则（右式）
    否则（进行剪枝和替换于阴于左号于左参于左境于右境于右式））也。

处理左元变量方程乃化命名环境而化表达式而化表达式而有也。
处理左元变量方程者会境而会左式而会右式而
    鉴（左式与右式）而
        有（式节点于（元变量于「量甲」）于「参甲」）与「右式二」则
            （鉴右式而
                有（式节点于（元变量于「量乙」）于「参乙」）则
                    （若量甲等于量乙
                        则（
                            若（元变量是模式匹配元变量于量甲）
                            则（
                                元
                            ）
                            否则（
                                若（「全部符合」于「是自由变量」于参乙）且（「全部符合」于是自由变量于参甲）
                                则（
                                    若（「全部符合二」于（表达式相等）于参甲于参乙）
                                    则元否则（
                                        虑「
                                            有也
                                            发生事故于『未有34』。
                                            元
                                        」
                                    ）
                                ）
                                否则（
                                    发生事故于延迟异常串 
                                ）
                            ）
                        ）
                        否则（
                            若（元变量是模式匹配元变量于量甲）
                            则（
                                解析元变量于量甲于右式
                            ）
                            否则（
                                若（「全部符合」于「是自由变量」于参乙）
                                则解析元变量于量甲于（进行剪枝和替换顶层于量甲于（态射于读取自由变量于参甲）于（读取元变量环境于量甲）于境于右式）
                                否则（
                                    若（元变量是模式匹配元变量于量乙）
                                        则（
                                            解析元变量于量乙于左式
                                        ）
                                        否则（
                                            若（「全部符合」于是自由变量于参甲）
                                            则解析元变量于量乙于（进行剪枝和替换顶层于量乙于（态射于读取自由变量于参乙）于（读取元变量环境于量乙）于境于左式）
                                            否则（发生事故于延迟异常串）
                                        ）
                                ）
                            ）
                        ）
                    ）
                或有「其他」则（
                    若（元变量是模式匹配元变量于量甲）
                            则（
                                解析元变量于量甲于右式
                            ）
                            否则（
                                解析元变量于量甲于（进行剪枝和替换顶层于量甲于（态射于读取自由变量于参甲）于（读取元变量环境于量甲）于境于右式）
                                ）
                ）
            ）也。

