寻观标准库之书。

寻观抽象语法树之书。

寻观顺序标识符之顺序标识符之书。

观抽象语法之书。
观抽象语法表示之书。
寻观符列环境术之书。

模块定义了名称乃化表达式而化字符串而爻也。
模块定义了名称者循模块定义了名称以会式而会搜索名而
    鉴式而
        有式节点于（空结构节点）于【】则阴
        或有式节点于（结构节点于（可有名））于（（类）衔（尾式）衔【】）则
            （若（「串相等」于名于搜索名）则阳否则
                （模块定义了名称于（式替换于（自由变量于名）于尾式）于搜索名））
        或有式节点于（结构节点于（可无））于（（式节点于（其他声明节点于（操作符声明于名于结））于【】）衔（尾式）衔【】）则
                （模块定义了名称于（解构无绑定抽象于尾式）于搜索名）
        或有（式节点于（结构节点于（可无））于（式节点于（其他节点）于其他式）衔（尾式）衔【】）则
                （模块定义了名称于（（解构抽象于尾式）中一）于搜索名）
        「： 或有（式节点于（函数调用于（结构式））于（式节点于（派抽象于（结构式））于（类型式衔尾式衔【】））
                                            衔（式节点于（文件引用节点于新文件名）于【】）衔【】）则
                （模块定义了名称于（（解构抽象于尾式）中一）于搜索名） ：」
        或有「其他」则（发生事故于『（搜索定义：）结构不符合规范：』附（抽象语法表示之表达式表示于「其他」））也。

构造递归模块乃化（表达式合（或可有字符串）「：绑定：」合或可有字符串「：外部标签：」）列而
    化字符串而化表达式「：试图构建递归的声明：」
    而化表达式「：尾部表达式：」
    而表达式「：结果表达式：」也。
构造递归模块者循构造递归模块以会已有列而会抽象标签而会抽象类型而会尾部式而
    鉴尾部式而
        有式节点于（空结构节点）于【】则（发生事故于『名称未定义！不应该发生』）
        或有式节点于（结构节点于（可有名））于（（类）衔（尾式）衔【】）则
            （若（「串相等」于名于抽象标签）则（
                虑抽象定义者类而
                虑抽象内部名及后续式者（解构抽象于尾式）而
                虑抽象内部名者（抽象内部名及后续式中零）而
                虑后续式者（抽象内部名及后续式中一）而
                虑递归尾结构式者（从右折叠于（会甲而会「后续」而
                        鉴（（表达式合（或可有字符串）「：绑定：」合或可有字符串「：外部标签：」）也甲）而有
                            （（式节点于（其他声明节点于（操作符声明于符名于结））于【】）与（可无）与（可无））则「后续」
                            或有
                            （式与（可有绑定名）与（标签））则
                                式节点于（结构节点于（可有绑定名））于（【式，进行抽象于绑定名于「后续」】）
                            或有「其他」则发生事故于『如果没有绑定名，那么一定是操作符声明，否则必须有绑定名』
                    ）于（式节点于（空结构节点）于【】）于「已有列」
                    ）而
                虑新名称者（下个字符序数于抽象标签）而
                虑递归定义域者（式节点于（结构节点于（可有（抽象标签）））于【抽象类型，（进行抽象于（抽象内部名）于递归尾结构式）】）而
                虑递归值域者（式节点于（结构节点于（可有（抽象标签）））于
                        【（式节点于（项单例类型节点）于【抽象类型，（从右折叠于（会当前绑定而会当前抽象定义而
                                    鉴（（或可有字符串）也（（（表达式合（或可有字符串）「：绑定：」合或可有字符串「：外部标签：」）也当前绑定）中一））而有
                                    （可无）则当前抽象定义
                                    或有
                                    （（可有绑定名））则
                                        （式有名替换于（式节点于（结构投影于绑定名）于【自由变量于新名称】）于绑定名于当前抽象定义）
                                    或有「其他」则发生事故于『如果没有绑定名，那么一定是操作符声明，否则必须有绑定名』
                                    ）于抽象定义于「已有列」）】
                                ），（进行抽象于（抽象内部名）于递归尾结构式）】）而
                虑递归式者（式节点于（递归节点）于（【
                        式节点于（派抽象于显式）于（【
                            递归定义域，进行抽象于新名称于递归值域
                        】）
                    】））而
                虑递归后式者（式节点于（结构节点于（可有抽象标签））于【
                        （式节点于（项单例类型节点）于【抽象类型，（式节点于（结构投影于抽象标签）于【自由变量于新名称】）】）
                        ，（进行抽象于抽象内部名于（从右折叠于（会甲而会「后续」而
                                    鉴（（表达式合（或可有字符串）「：绑定：」合或可有字符串「：外部标签：」）也甲）而有
                                        （（式节点于（其他声明节点于（操作符声明于符名于结））于【】）与（可无）与（可无））则「后续」
                                        或有
                                        （式与（可有绑定名）与（标签））则
                                            式节点于（结构节点于（标签））于（【
                                                （式节点于（项单例类型节点）于【式，（式节点于（结构投影于绑定名）于【自由变量于新名称】）】）
                                                ，进行抽象于绑定名于「后续」】）
                                        或有「其他」则发生事故于『如果没有绑定名，那么一定是操作符声明，否则必须有绑定名』
                                ）于（后续式）于「已有列」
                            ））】）而
                「： 虑无者打印行于『递归后式：』附（表达式表示于递归后式）而 ：」
                （式节点于（结构节点于（可无））于【递归式，
                    进行抽象于新名称于递归后式】）
                
            ）否则（虑绑定及真尾式者（解构抽象于尾式）而
                「构造递归模块」于（「已有列」接【类与（可有名）与（可有（绑定及真尾式中零））】）于抽象标签于抽象类型于（绑定及真尾式中一）））
        或有式节点于（结构节点于（可无））于（（式节点于（其他声明节点于（操作符声明于名于结））于【】）衔（尾式）衔【】）则 
                 （
                    「构造递归模块」于
                （「已有列」接【（式节点于（其他声明节点于（操作符声明于名于结））于【】）与（可无）与（可无）】）
                    于抽象标签于抽象类型于（解构无绑定抽象于尾式）
                    ）
        「： 或有（式节点于（函数调用于（结构式））于（式节点于（派抽象于（结构式））于（类型式衔尾类型式衔【】））
                                            衔（式节点于（文件引用节点于新文件名）于【】）衔【】）则
                （发生事故于『递归结构中不应该出现不相关的变量』） ：」
        或有「其他」则（发生事故于『（构造递归模块）结构不符合规范：』附（抽象语法表示之表达式表示于「其他」））
        也。

收集模块标签乃化表达式而字符串列也。
收集模块标签者循收集模块标签以会式而
    鉴式而
        有式节点于（空结构节点）于【】则【】
        或有式节点于（结构节点于（可有名））于（（类）衔（尾式）衔【】）则
                【名】接（收集模块标签于（式替换于（自由变量于名）于尾式））
        或有式节点于（结构节点于（可无））于（（式节点于（其他声明节点于（操作符声明于名于结））于【】）衔（尾式）衔【】）则
                （收集模块标签于（解构无绑定抽象于尾式））
        或有（式节点于（结构节点于（可无））于（式节点于（其他节点）于其他式）衔（尾式）衔【】）则
                （收集模块标签于（（解构抽象于尾式）中一））
        或有「其他」则【】 「：因为有Functor Application，应该被normalize的，TODO：type checking之后重新考虑：」
        或有「其他」则（发生事故于『（收集模块标签：）结构不符合规范：』附（抽象语法表示之表达式表示于「其他」））也。

寻观抽象语法树方法之书。
结构尾式替换乃化表达式而化表达式而表达式也。
结构尾式替换者会分析式而会尾式而
    鉴（类型转定义于分析式） 而
    有 （可有（式））则（式替换于式于尾式）
    或有（可无）则尝试运行于（会无而（解构无绑定抽象于尾式））于（会事故而发生事故于事故附『在进行结构尾式转换时』附（表达式表示于尾式））也。

寻观命名环境术之书。

进行结构投影乃化表达式而化字符串而或可有表达式也。
进行结构投影者循进行结构投影以会式而会搜索名而
    鉴式而
        有（式节点于（空结构节点）于【】）则（可无）
        或有式节点于（结构节点于（可有名））于（（类）衔（尾式）衔【】）则
            若「串相等」于名于搜索名则（可有类）
            否则（进行结构投影于（结构尾式替换于类于尾式）于搜索名）
        或有式节点于（结构节点于（可无））于（（其他式）衔（尾式）衔【】）则
                （进行结构投影于（结构尾式替换于其他式于尾式）于搜索名）
        或有「其他」则（发生事故于『（进行结构投影：）结构不符合规范：』附（抽象语法表示之表达式表示于「其他」））也。

表达式是结构乃化表达式而爻也。
表达式是结构者会式而
    鉴式而
        有（式节点于（空结构节点）于【】）则阳
        或有式节点于（结构节点于名）于参则阳
        或有「其他」则阴也。

进行多次投影乃化表达式而化字符串列而或可有表达式也。
进行多次投影者循进行多次投影以会式而会路径而
    鉴路径而有【】则可有式
    或有（路径头衔路径尾）则（
        若表达式是结构于式
        则（鉴进行结构投影于式于路径头而
            有（可无）则（可无）
            或有（可有后式）则（进行多次投影于后式于路径尾）
        ）否则（
            可无
        ）
    ）也。

找根结构并投影乃化「符列环境」而化表达式而化字符串列而或可有表达式也。
找根结构并投影者循找根结构并投影以会境而会式而会已有路径而
    若（表达式是结构于式）
    则（进行多次投影于式于已有路径）
    否则（鉴式而
            有（式节点于（结构投影于投影名）于（结构）衔【】）则
                    （找根结构并投影于境于式于（投影名衔已有路径）
                ）
            或有（自由变量于名）则
                （
                    鉴解析单个名称于境中一中零于名而
                    有（可有构式）则（进行多次投影于构式于已有路径）
                    或有（可无）则（可无）
                ）
            或有其他则（可无）
        ）也。

「：返回可无若表达式不是结构：」
计算可投影标签乃化「符列环境」而化表达式而或可有（字符串列）也。
计算可投影标签者循计算可投影标签以会境而会式而
    鉴（找根结构并投影于境于式于【】）而
    有（可无）则（可无）
    或有（可有后式）则（可有（收集模块标签于后式））
    也。
