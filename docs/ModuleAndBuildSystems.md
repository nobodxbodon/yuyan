## 关于模块与构建系统 (Module and Build Systems)

一个豫言库应该在根目录包含一个`package.yyon`的文件，其中必须包含一个`姓名`与`源文件夹`两大属性。姓名将会为当前包建立一个命名空间（`namespace`），引用里面具体的库需要用 `【姓名】之【库】`的语法。

### `package.yyon`中的规定属性

| 属性 | 值    |
|------|------|
| 名称    | 包名，引用时需要与文件夹名相同 |
| 源文件夹 | 所有的源代码所在文件夹，默认为当前文件夹 |
| 依赖 | 数组（字符串），所有依赖的包名。将用于自动从网络安装所需要的包 |
| 自动导入 | 数组（字符串），不需要写`观`语句就自动导入的包名，通常包含`标准库` |
| 分属包 | 数组（字符串），根目录下的其他包，属于该包底下的其他包 |

### 库的搜索顺序

1. 局部搜索：
模拟`node_modules`，我们考虑采用程序自动搜索当前执行目录下`yylib`目录。`yylib`下的每一个文件夹都会被当成一个独立的库，程序会读`package.yyon`文件（其`姓名`属性必须与文件夹名相同）来确定其命名空间。目录文件仅当在被引用时才会被编译。

1. 全局搜索：（暂缓实现）
系统全局可以有一个例如`~/yuyan/lib`的文件夹存放全系统包。搜索方法与局部搜索类似。

1. 当前包搜索：
编译系统会检查当前目录下是否存在`package.yyon`文件。如果存在的话，编译系统会读取所有的`源文件夹`中的源代码文件以获取他们的顶级定义的库名，以实现惰性加载（`lazy loading`）。当前库的`姓名`将被忽略。如果不存在`package.yyon`文件，输入文件则无法引用当前项目的其他文件， 但其仍可引用局部搜索与全局搜索的文件。 
